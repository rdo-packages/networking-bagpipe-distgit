{
  "comments": [
    {
      "key": {
        "uuid": "fa98f980_550cfe94",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 113
      },
      "writtenOn": "2017-03-16T08:55:26Z",
      "side": 1,
      "message": "There should be a Source1 line adding the service file, and then a line in %install that copies the file to the proper location. See https://github.com/rdo-packages/networking-l2gw-distgit/blob/rpm-master/python-networking-l2gw.spec#L14 and https://github.com/rdo-packages/networking-l2gw-distgit/blob/rpm-master/python-networking-l2gw.spec#L111-L112 for an example.",
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_b5d7eabe",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 14,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa98f980_550cfe94",
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_758822e8",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T09:09:12Z",
      "side": 1,
      "message": "I think \"openstack-networking-bagpipe-bgp\" would be better that \"openstack-babpipe-bgp\" as package name.",
      "range": {
        "startLine": 75,
        "startChar": 12,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_d5e46eae",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "See the earlier comment from Thomas, who requires this naming convention (first patch had `networking` in)",
      "parentUuid": "fa98f980_758822e8",
      "range": {
        "startLine": 75,
        "startChar": 12,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_15bc366c",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T11:37:31Z",
      "side": 1,
      "message": "I understand comment from Thomas is about service name. My comment is about package name. You could set openstack-networking-bagpipe-bgp as package name but keep bagpipe-bgp as systemd service name. Anyway it\u0027s not big issue.",
      "parentUuid": "fa98f980_d5e46eae",
      "range": {
        "startLine": 75,
        "startChar": 12,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_b8cd2160",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 75,
      "author": {
        "id": 361
      },
      "writtenOn": "2017-03-17T13:34:35Z",
      "side": 1,
      "message": "(if we don\u0027t do a specific subpackage for the bagpipe-bgp specific parts, then:)\n\nI think the right package name is \u0027openstack-networking-bagpipe\u0027, which means openstack-%{pypi_name} .",
      "parentUuid": "fa98f980_15bc366c",
      "range": {
        "startLine": 75,
        "startChar": 12,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_151276b4",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 113
      },
      "writtenOn": "2017-03-16T08:55:26Z",
      "side": 1,
      "message": "Please move the subpackage definition before %prep, otherwise it is confusing to read.",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_f5e1729b",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 79,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa98f980_151276b4",
      "range": {
        "startLine": 74,
        "startChar": 0,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_d54d4ec6",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 98,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T09:09:12Z",
      "side": 1,
      "message": "Do we need this two symlinks?, we are not creating python3 packages so -2 and -%{python2_version} are not required unless there is some other reason.",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_15eef68b",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 98,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "yes, do need these, I tried removing them and it results in errors such as:\n\nInstalled (but unpackaged) file(s) found:\n   /usr/bin/neutron-bagpipe-linuxbridge-agent\n   /usr/bin/neutron-bagpipe-linuxbridge-agent-2\n   /usr/bin/neutron-bagpipe-linuxbridge-agent-2.7",
      "parentUuid": "fa98f980_d54d4ec6",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_f5a6d252",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 98,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T11:37:31Z",
      "side": 1,
      "message": "You need to remove cp and ln commands in lines 72 and 73. I\u0027ve tested and it works fine.",
      "parentUuid": "fa98f980_15eef68b",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 98,
        "endChar": 63
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_9553c66b",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T09:09:12Z",
      "side": 1,
      "message": "Files only required for bagpipe-bgp should be included in new subpackage instead of python2-networking-bagpipe. I guess this is the case at least for babpipe-bgp and bagpipe-bgp-cleanup executables and config files under bagpipe-bgp direcxtory. I\u0027m not sure about the others.",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_35f3fa74",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "Sorry not quite following what you mean here, a new subpackage?",
      "parentUuid": "fa98f980_9553c66b",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_35685af5",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T11:37:31Z",
      "side": 1,
      "message": "I mean openstack-bagpipe-bgp package. Executable and config files used only by bagpipe-bgp should be in openstack-bagpipe-bgp package instead of python2-networking-bagpipe. You have some examples in neutron spec file, https://github.com/rdo-packages/neutron-distgit/blob/rpm-master/openstack-neutron.spec#L698",
      "parentUuid": "fa98f980_35f3fa74",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_18046d7d",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 361
      },
      "writtenOn": "2017-03-17T13:34:35Z",
      "side": 1,
      "message": "Not sure I follow either:  why a subpackage ?\n\nThe background is that although initially a separated project (out-of-openstack), bagpipe-bgp has been made a part of networking-bagpipe, to simplify things, in particular CI and packaging.  Networking-bagpipe can\u0027t be used without bagpipe-bgp.",
      "parentUuid": "fa98f980_35685af5",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_d84825cf",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T14:09:20Z",
      "side": 1,
      "message": "Before this review, building this spec produced following packages:\n\n-python-networking-bagpipe-doc\n-python2-networking-bagpipe\n\nWith this review, you are adding a new package openstack-bagpipe-bgp or openstack-networking-bgp to this list so it\u0027s a new subpackage.\n\nAs described in your comment (bagpipe-bgp is mandatory to use networking-bagpipe), i agree the right name for the new package would be openstack-networking-bagpipe.",
      "parentUuid": "fa98f980_18046d7d",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_580c3595",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 361
      },
      "writtenOn": "2017-03-17T14:23:26Z",
      "side": 1,
      "message": "So, why not, *instead* of the existing names:\n- openstack-networking-bagpipe-doc\n- openstack-networking-bagpipe\n\n?",
      "parentUuid": "fa98f980_d84825cf",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_b8fe0137",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 107,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-17T15:34:05Z",
      "side": 1,
      "message": "Separating pure python module from other content as config files, systemd units, etc.. is a good parctice for some reasons:\n\n- python module may be imported from other services without requireing full deployment of bagpipe. I\u0027m not sure if this is the case although i\u0027ve seen bgpvpn imports bagpipe, iiuc.\n\n- as preparation for incoming python3- packages. We will need python2- and python3- packages and a different one with common content. \n\nI\u0027d go with python2-networking-bagpipe and openstack-networking-bagpipe",
      "parentUuid": "fa98f980_580c3595",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 107,
        "endChar": 83
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_35177aa5",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 113
      },
      "writtenOn": "2017-03-16T08:55:26Z",
      "side": 1,
      "message": "There is no %files -n openstack-%{servicename}, so the service file is not included anywhere.\n\nSee https://github.com/rdo-packages/networking-l2gw-distgit/blob/rpm-master/python-networking-l2gw.spec#L141-L144",
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_55e87e7c",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 108,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa98f980_35177aa5",
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_f54a52ab",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 115,
      "author": {
        "id": 128
      },
      "writtenOn": "2017-03-16T09:09:12Z",
      "side": 1,
      "message": "changelog is not used for dlrn builds and it\u0027s normally empty on rpm-master. In RDO we only use changelog for stable builds from stable branches, as ocata-rdo or newton-rdo, not in rpm-master.",
      "range": {
        "startLine": 113,
        "startChar": 0,
        "endLine": 115,
        "endChar": 74
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa98f980_75ed828b",
        "filename": "python-networking-bagpipe.spec",
        "patchSetId": 4
      },
      "lineNbr": 115,
      "author": {
        "id": 269
      },
      "writtenOn": "2017-03-16T10:07:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa98f980_f54a52ab",
      "range": {
        "startLine": 113,
        "startChar": 0,
        "endLine": 115,
        "endChar": 74
      },
      "revId": "9aafb127559672e56b43292035c312a239400c24",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}